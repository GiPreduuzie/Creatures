# Creatures

Основная цель проекта - запустить программный аналог эволюции. Генотипом будем считать некоторый алгоритм поведения; при благоприятных обстоятельствах он даёт потомков, которые наследуют его особенности поведения, но, возможно, с некоторыми случайными искажениями. Таким образом мы обеспечим необходимые условия эволюции. Отдельным и крайне любопытным вопросом будет являться горизонтальная передача наследственной информации (ГПГ - горизонтальный перенос генов, то есть, обмен генами между современниками, а не между потомками и предками). Без ГПГ вряд ли возможно нормальная модель эволюции с достаточно быстрым и эффективным приспособлением.

Среда исполнения представляет собой клеточный автомат, иначе говоря матрицу, случайным образом засеянную существами, которые занимают одну клетку матрицы и чьё поведение определяется заложенным в них алгоритмом. Среда совершает ход (то есть, в ней происходят некоторые регулярные события, например - засев еды), затем каждому существу предоставляется возможность совершить ход.

Существо, совершая ход, способно
1. попытаться сходить вверх, вниз, вправо или влево. Если клетка свободна и не выходит за границы среды, то его следует туда переместить.
2. попытаться съесть подножный корм, то есть ту еду, на которой непосредственно стоит. Если еда на этой клетке есть, запас энергии у существа прибавляется, у клетки убавляется запас еды.
3. родить потомка, поместив его на указанную свободную клетку. Если у существа довольно еды, а клетка и в самом деле свободна, среда должна обеспечить эту прихоть.
4. умереть с голоду, если запас его еды стал равен нулю. Каждый ход существо теряет количество запасов энергии на поддержание своей жизни.
5. ничего не делать, выбрав путь Дао.

Далее, среда. В своей ход она должна разлить еду. Как именно это делать - вопрос. Одна из возможных моделей следующая: считая четыре угла матрицы источниками пищи заполнить матрицу едой так, как если бы то была вода, а существа - препятствия для воды. Иначе говоря, устранив диагональное длвижение, построим четыре матрицы достижимости для каждого из углов и наложим друг на друга. Плюс к тому, нам не следует терять старую, с прошлых ходов оставшуюся и до сих пор не съеденную еду.

Следующий вопрос - мутатор. Дело в том, что нам нужно обеспечить эффективный алгоритм мутации геномов существ. Мутировать его побитово или побайтово, пытаясь случайно менять символ на символ крайне малоэффективно. Поэтому предлположим, что у нас есть достаточно выразительный и при этом простой язык, а поведение существа описано на этом языке. Мы умеем разбирать код в набор команд, пригодных для непосредственного исполнения. Тогда мутатор должен уметь случайным образом изменять эти команды, несколько их искажать. Это значит: а) добавлять произвольные команды б) удалять произвольные команды в) заменять одну команду другой (как вариант - искажать параметры одной команды). 
При этом важно, чтобы набор команд оставался корректным даже после мутирования. Это означает, что, например, переменная не может быть использована до объявления или, например, что блоки "если" должны быть правильно закрыты завершающими "окончи 'если' ". 
Важно понимать, что при этом сам код может работать совершенно неверно, в том числе выбрасывать исключения во время исполнения. Кстати такое событие должно средой учитываться как гибель клетки.


Наконец, возможное практическое применение в случае успешного запуска эволюции. Предположим, у нас есть задача, пригодность решений которой можно гладко приближать. То есть, это не задача, которую можно или решить или не решить, но возможна некоторая градация. Вполне может таковой задачей служить распознавание текста: скажем, что условная единица - это вообще какой-то полученный на поставленный вопрос ответ, далее начисляются награды за каждое приближение (количество символов стало ближе к верному? Награда. Среднестатистическое упоминание такого-то символа приблизилось к верному? Награда. Далее: число слов, премерное совпадение букв, число замен необходимых для получения нужного текста, и т.д. - всё это на большой базе данных даст возможность приблизиться к решению правно, без дискретного скачка). Тогда можно каждый кусочек пищи считать таковой задачей и каждое существо перед поеданием будет пытаться её решить. Чем лучше решит, тем больше еды получит. Значит, оставит больше потомков, значит победит соседей в эволюционной гонке.
